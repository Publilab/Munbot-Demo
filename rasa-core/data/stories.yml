version: "3.1" 
stories:
  - story: Fallback dos veces consecutivas
    steps:
      - intent: nlu_fallback
      - action: utter_pide_reformulacion
      - intent: nlu_fallback
      - action: action_llm_fallback

# SALUDOS
  - story: general_consulta_inicial
    steps:
      - intent: saludo_simple
      - action: utter_saludo
      - intent: consulta_general
      - action: utter_consulta_general

  - story: general_consulta_inicial_compuesta
    steps:
      - intent: saludo_compuesto
      - action: utter_pregunta_como_estas
      - intent: respuesta_bien
      - action: utter_resp_bien_1
      - action: utter_resp_bien_2

### PREGUNTAS CHATBOT
  - story: pregunta_estado_munbot_positiva
    steps:
      - intent: pregunta_como_estas
      - action: utter_pregunta_como_estas
      - intent: respuesta_bien
      - action: utter_resp_bien_1
      - action: utter_resp_bien_2

  - story: pregunta_estado_munbot_negativa
    steps:
      - intent: pregunta_como_estas
      - action: utter_pregunta_como_estas
      - intent: respuesta_mal
      - action: utter_resp_mal_1
      - action: utter_resp_mal_2

### INTERACCIONES GENERALES
  - story: general_decepcion
    steps: 
      - intent: decepcion_ayuda
      - action: utter_decepcion_ayuda
      - intent: no_mas_ayuda
      - action: utter_no_mas_ayuda

  - story: general_agradecimiento
    steps:
      - intent: agradecimiento
      - action: utter_agradecimiento

  - story: general_mas_ayuda_positiva
    steps:
      - intent: si_mas_ayuda
      - action: utter_si_mas_ayuda
  
  - story: general_mas_ayuda_negativa
    steps:
      - intent: no_mas_ayuda
      - action: utter_despedida

  - story: general_despedida_final
    steps:
      - intent: despedida
      - action: utter_despedida

### CONSULTAS GENERALES DOCUMENTOS
  - story: documento_no-sabe
    steps:
      - intent: solicitud_documento_general
      - action: utter_preguntar_tipo_documento
      - intent: no_sabe_tipo_documento
      - action: utter_no_sabe_tipo_documento

### MENSAJE COMPUESTO
#  - story: procesar mensaje compuesto
#    steps:
#     - intent: mensaje_compuesto
#      - action: action_split_message

### CONSULTAS GENERALES DOCUMENTOS
  - story: info_documento_requisito
    steps:
      - intent: solicitud_documento_general
      - action: utter_preguntar_tipo_documento
      - intent: indica_documento_tramitar
      - action: action_filtrar_y_listar
      - intent: elige_documento_especifico
      - action: action_normalizar_documento_especifico
      - intent: proporcionar_campo_requisito
      - action: utter_espera_respuesta_campo
      - action: action_buscar_documento_por_campo
      - action: utter_recomendacion_requisito
      - action: utter_sugerir_cita

  - story: info_documento_ubicacion
    steps:
      - intent: solicitud_documento_general
      - action: utter_preguntar_tipo_documento
      - intent: indica_documento_tramitar
      - action: action_filtrar_y_listar
      - intent: elige_documento_especifico
      - action: action_normalizar_documento_especifico
      - intent: proporcionar_campo_ubicacion
      - action: utter_espera_respuesta_campo
      - action: action_buscar_documento_por_campo
      - action: utter_recomendacion_ubicacion
      - action: utter_sugerir_cita

  - story: info_documento_horario
    steps:
      - intent: solicitud_documento_general
      - action: utter_preguntar_tipo_documento
      - intent: indica_documento_tramitar
      - action: action_filtrar_y_listar
      - intent: elige_documento_especifico
      - action: action_normalizar_documento_especifico
      - intent: proporcionar_campo_horario
      - action: utter_espera_respuesta_campo
      - action: action_buscar_documento_por_campo
      - action: utter_recomendacion_horario
      - action: utter_sugerir_cita

  - story: info_documento_contacto
    steps:
      - intent: solicitud_documento_general
      - action: utter_preguntar_tipo_documento
      - intent: indica_documento_tramitar
      - action: action_filtrar_y_listar
      - intent: elige_documento_especifico
      - action: action_normalizar_documento_especifico
      - intent: proporcionar_campo_contacto
      - action: utter_espera_respuesta_campo
      - action: action_buscar_documento_por_campo
      - action: utter_recomendacion_contacto
      - action: utter_sugerir_cita

  - story: info_documento_telefono
    steps:
      - intent: solicitud_documento_general
      - action: utter_preguntar_tipo_documento
      - intent: indica_documento_tramitar
      - action: action_filtrar_y_listar
      - intent: elige_documento_especifico
      - action: action_normalizar_documento_especifico
      - intent: proporcionar_campo_telefono
      - action: utter_espera_respuesta_campo
      - action: action_buscar_documento_por_campo
      - action: utter_recomendacion_telefono
      - action: utter_sugerir_cita
  
  - story: info_documento_duracion
    steps:
      - intent: solicitud_documento_general
      - action: utter_preguntar_tipo_documento
      - intent: indica_documento_tramitar
      - action: action_filtrar_y_listar
      - intent: elige_documento_especifico
      - action: action_normalizar_documento_especifico
      - intent: proporcionar_campo_duracion
      - action: utter_espera_respuesta_campo
      - action: action_buscar_documento_por_campo
      - action: utter_recomendacion_duracion
      - action: utter_sugerir_cita

  - story: info_documento_sanciones
    steps:
      - intent: solicitud_documento_general
      - action: utter_preguntar_tipo_documento
      - intent: indica_documento_tramitar
      - action: action_filtrar_y_listar
      - intent: elige_documento_especifico
      - action: action_normalizar_documento_especifico
      - intent: proporcionar_campo_sanciones
      - action: utter_espera_respuesta_campo
      - action: action_buscar_documento_por_campo
      - action: utter_recomendacion_sanciones
      - action: utter_sugerir_cita

###Â AGENDAR CITAS
  - story: agendar_cita_proceso_finalizado
    steps:
      - intent: solicitar_cita
      - action: utter_solicitar_info_cita_1
      - action: utter_solicitar_info_cita_2
      - intent: solicitar_info_cita_2
      - action: utter_solicitar_info_cita_3
      - intent: solicitar_info_cita_3
      - action: utter_solicitar_info_cita_4
      - intent: solicitar_info_cita_4
      - action: action_schedule_meeting
      - action: utter_select_opcion_dia_cita
      - intent: select_opcion_dia_cita
      - action: utter_select_opcion_hora_cita
      - intent: select_opcion_hora_cita
      - action: action_confirm_schedule
      - intent: user_confirma_cita
      - action: action_envio_comprobante_cita
      - action: utter_despedida

### RECLAMOS
  - story: reclamos_usuarios
    steps:
      - intent: reclamo_denuncia
      - action: utter_procesar_reclamo_1
      - action: utter_procesar_reclamo_2
      - intent: solicitar_info_reclamo_2
      - action: action_infopers_reclamo
      - action: utter_procesar_reclamo_3
      - intent: reclamo_denuncia_3
      - action: action_procesar_area_reclamo
      - action: utter_procesar_reclamo_4
      - intent: reclamo_denuncia_4
      - action: action_registrar_reclamo
      - action: utter_respuesta_reclamo_1
      - action: utter_respuesta_reclamo_2
      - action: action_enviar_reclamo_mail
